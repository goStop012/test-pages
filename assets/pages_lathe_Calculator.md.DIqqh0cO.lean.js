var F=Object.defineProperty;var S=l=>{throw TypeError(l)};var $=(l,i,t)=>i in l?F(l,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[i]=t;var e=(l,i,t)=>$(l,typeof i!="symbol"?i+"":i,t),W=(l,i,t)=>i.has(l)||S("Cannot "+t);var E=(l,i,t)=>i.has(l)?S("Cannot add the same private member more than once"):i instanceof WeakSet?i.add(l):i.set(l,t);var O=(l,i,t)=>(W(l,i,"access private method"),t);import{L as J,T as Q,a as K,b as P,c as X,d as q,e as b,f as Y,g as y,h as N,i as v,j as V,k as H,l as k,m as Z,n as tt,o as et,p as it,q as st,C as nt}from"./chunks/inputValueType.BcW0rA5O.js";import{P as s}from"./chunks/Point.DhzxLGKq.js";import{U as _}from"./chunks/Utils.DC-NElVd.js";import{M as d}from"./chunks/Macro.4xAggGJu.js";import{d as at,o as j,c as M,C as ot,F as ht,G as U,j as z,a as rt}from"./chunks/framework.5q7voRLl.js";class B{constructor(i){e(this,"sideA");e(this,"sideB");e(this,"sideC");e(this,"angleA");e(this,"angleB");e(this,"angleC",90);const{sideA:t,sideB:a,sideC:n,angleA:o,angleB:r}=i;if(this.validateInput({sideA:t,sideB:a,sideC:n,angleA:o,angleB:r}),t&&a)this.sideA=t,this.sideB=a,this.sideC=d.sqrt(t**2+a**2),this.angleA=d.asin(a/this.sideC),this.angleB=90-this.angleA;else if(t&&n)this.sideA=t,this.sideC=n,this.sideB=d.sqrt(n**2-t**2),this.angleB=d.asin(t/n),this.angleA=90-this.angleB;else if(a&&n)this.sideB=a,this.sideC=n,this.sideA=d.sqrt(n**2-a**2),this.angleA=d.asin(a/n),this.angleB=90-this.angleA;else if(o&&t)this.angleA=o,this.sideA=t,this.angleB=90-o,this.sideC=t/d.cos(o),this.sideB=this.sideC*d.sin(o);else if(o&&a)this.angleA=o,this.sideB=a,this.angleB=90-o,this.sideC=a/d.sin(o),this.sideA=this.sideC*d.cos(o);else if(o&&n)this.angleA=o,this.sideC=n,this.angleB=90-o,this.sideB=n*d.sin(o),this.sideA=n*d.cos(o);else if(r&&t)this.angleB=r,this.sideA=t,this.angleA=90-r,this.sideC=t/d.sin(r),this.sideB=this.sideC*d.cos(r);else if(r&&a)this.angleB=r,this.sideB=a,this.angleA=90-r,this.sideC=a/d.cos(r),this.sideA=this.sideC*d.sin(r);else if(r&&n)this.angleB=r,this.sideC=n,this.angleA=90-r,this.sideA=n*d.sin(r),this.sideB=n*d.cos(r);else throw new Error("Invalid input combination.");this.validatePythagoras(),this.validateAngles()}validateInput(i){if(Object.values(i).filter(a=>a!==void 0).length<2)throw new Error("At least two values must be provided.")}validateAngles(){if(this.angleA&&this.angleB&&d.abs(this.angleA+this.angleB-90)>1e-4)throw new Error("The sum of angleA and angleB must be 90 degrees.")}validatePythagoras(){if(this.sideA&&this.sideB&&this.sideC&&d.abs(this.sideA**2+this.sideB**2-this.sideC**2)>1e-4)throw new Error("The lengths do not satisfy the Pythagorean theorem.")}toPoint(){if(this.sideA&&this.sideB)return new s({x:this.sideA*2,z:this.sideB})}}class R extends B{constructor(t={}){super(t);e(this,"toolRadius");e(this,"toolPositon");e(this,"sideACRC",0);e(this,"sideBCRC",0);const{toolRadius:a=0,toolPositon:n="前刀尖",angleA:o,sideA:r,sideB:h,sideC:c}=t;if(a<0)throw new Error(`${this.constructor.name}，当前值：toolRadius = ${a}，取值范围：toolRadius > 0`);if(!this.angleA)throw new Error(`${this.constructor.name}，Triangle angle must be set before calculating CRC.`);if(this.toolRadius=a,this.toolPositon=n,this.toolRadius===0)this.sideACRC=0,this.sideBCRC=0;else if(this.toolPositon==="前刀尖"&&(this.sideACRC=R.getSideCRC(this.toolRadius,this.angleA),this.sideBCRC=R.getSideCRC(this.toolRadius,90-this.angleA)),this.toolPositon==="后刀尖"){const u=R.getSideCRC(this.toolRadius,90-this.angleA);this.sideBCRC=this.toolRadius*2-u,this.sideACRC=new B({angleA:this.angleA,sideB:this.sideBCRC}).sideA}}static getSideCRC(t,a){return t-t*d.tan(a/2)}toPoint(){return new s({x:this.sideACRC*2,z:this.sideBCRC})}}class w{constructor(i,t){e(this,"startPoint");e(this,"endPoint");this.startPoint=i,this.endPoint=t}get vector(){return this.endPoint.sub(this.startPoint)}get distance(){return d.sqrt(this.vector.x**2+this.vector.y**2)}get unitVector(){return this.vector.div(this.distance)}get middle(){return this.startPoint.add(this.endPoint).div(2)}get slope(){return this.vector.x===0?1/0:this.vector.y/this.vector.x}get angle(){return _.radiansToDegrees(Math.atan2(this.vector.y,this.vector.x))}get increase(){return new s({y:(this.endPoint.y-this.startPoint.y)/2,x:this.endPoint.x-this.startPoint.x})}get direction(){return this.angle===90?"↑":this.angle===270?"↓":this.angle===0?"→":this.angle===180?"←":this.increase.x>0&&this.increase.y<0?"↘":this.increase.x<0&&this.increase.y<0?"↙":this.increase.x>0&&this.increase.y>0?"↗":this.increase.x<0&&this.increase.y>0?"↖":"null"}extendOrShorten(i={}){const{length:a=1,relative:n="startPoint",vertical:o=!0}=i,r=a/1,h=n==="startPoint"?-1:1;let c;o?c=new B({angleA:this.angle%90,sideA:1}).toPoint():c=new B({angleA:this.angle%90,sideC:1}).toPoint();const u=this[n].y+c.y*Math.sign(this.vector.y)*r*h,g=this[n].x+c.x*Math.sign(this.vector.x)*r*h;return n==="startPoint"?new w(new s({y:u,x:g}),this.endPoint):new w(this.startPoint,new s({y:u,x:g}))}rotateByStart(i){const t=_.degreesToRadians(i),a=Math.cos(t),n=Math.sin(t),o=this.vector.x*a-this.vector.y*n,r=this.vector.x*n+this.vector.y*a;return new w(this.startPoint,new s({x:o,y:r}).add(this.startPoint))}translation(i){return new w(this.startPoint.add(i),this.endPoint.add(i))}}var L,G;class lt{constructor(i={}){E(this,L);e(this,"toolRadius");e(this,"value");e(this,"type");e(this,"u");e(this,"w");const{toolRadius:t=.4,value:a=1,type:n="chamfer"}=i;this.toolRadius=t,this.value=a,this.type=n,O(this,L,G).call(this)}}L=new WeakSet,G=function(){this.type==="chamfer"?(this.w=this.value+R.getSideCRC(this.toolRadius,45),this.u=this.w*2):this.type==="radius"&&(this.w=this.value+this.toolRadius,this.u=this.w*2)};class I{constructor({quadrant:i="第一象限",pointC:t=new s({x:100,z:0}),angleA:a=45,value:n=1,direction:o="逆时针",position:r="外侧",toolRadius:h=.4,frontLineType:c="竖直",afterLineType:u="水平",toolPositon:g="前刀尖",valueType:x="Uhalf"}={}){e(this,"quadrant");e(this,"pointC");e(this,"angleA");e(this,"valueType");e(this,"value");e(this,"direction");e(this,"position");e(this,"toolRadius");e(this,"toolPositon");e(this,"frontLineType");e(this,"afterLineType");e(this,"pointA");e(this,"pointB");this.quadrant=i,this.pointC=t,this.angleA=a,this.value=n,this.direction=o,this.position=r,this.toolRadius=h,this.frontLineType=c,this.afterLineType=u,this.toolPositon=g,this.valueType=x}}class dt extends I{constructor(t={}){const{quadrant:a="第一象限",pointC:n=new s({x:100,z:0}),angleA:o=45,value:r=1,direction:h="逆时针",position:c="外侧",toolRadius:u=.4,frontLineType:g="竖直",afterLineType:x="水平"}=t;super(t);e(this,"radius");e(this,"radiusCRC");this.radius=o===45?this.value:void 0;const f=this.calc();this.pointA=f.pointA,this.pointB=f.pointB,this.radiusCRC=f.radiusCRC}calc(){const t=new B({angleA:this.angleA,sideA:this.value}),a={第一象限:{pointA:new s({x:-(t.sideA*2),z:0}),pointB:new s({x:0,z:-t.sideB})},第四象限:{pointA:new s({x:0,z:-t.sideB}),pointB:new s({x:t.sideA*2,z:0})},第二象限:{pointA:new s({x:0,z:t.sideB}),pointB:new s({x:-(t.sideA*2),z:0})},第三象限:{pointA:new s({x:t.sideA*2,z:0}),pointB:new s({x:0,z:t.sideB})}},n=this.toolRadius!==0,o=this.position==="外侧",r=this.direction==="顺时针",h=n?this.toolRadius:0,c=o?1:-1,u=a[this.quadrant],g=u.pointA.mul(h*c),x=u.pointB.mul(h*c),f=new s(this.pointC).add(u.pointA).add(g),T=new s(this.pointC).add(u.pointB).add(x),m=this.radius??0,p=n?o?m+this.toolRadius:m-this.toolRadius:m;return r?{pointA:T,pointB:f,radiusCRC:p}:{pointA:f,pointB:T,radiusCRC:p}}}class ct extends I{constructor(t={}){const{quadrant:a="第一象限",pointC:n=new s({x:100,z:0}),angleA:o=45,value:r=1,direction:h="逆时针",position:c="外侧",toolRadius:u=0}=t;super(t);e(this,"chamfer");e(this,"chamferCRC");e(this,"unitVector");e(this,"length");e(this,"arrowDirection");e(this,"extendFromPointA");this.chamfer=this.angleA===45?this.value:void 0;const g=this.calc();this.pointA=g.pointA,this.pointB=g.pointB,this.chamferCRC=g.chamferCRC,this.arrowDirection=new w(this.pointA,this.pointB).direction,this.unitVector=new w(this.pointA,this.pointB).unitVector,this.extendFromPointA=new w(this.pointA,this.pointB).extendOrShorten().startPoint,this.length=new w(this.pointA,this.pointB).distance}calc(){(this.quadrant==="第二象限"||this.quadrant==="第三象限")&&(this.toolPositon="后刀尖");let t;this.valueType==="Uhalf"&&(t=this.value),this.valueType==="W"&&(t=new B({angleA:this.angleA,sideB:this.value}).sideA);const a=new B({angleA:this.angleA,sideA:t}),n=new R({toolRadius:this.toolRadius,angleA:this.angleA,sideA:t,toolPositon:this.toolPositon}),o={第一象限:{pointA:new s({x:-2,z:0}),pointB:new s({x:0,z:-1})},第四象限:{pointA:new s({x:2,z:0}),pointB:new s({x:0,z:-1})},第二象限:{pointA:new s({x:-2,z:0}),pointB:new s({x:0,z:1})},第三象限:{pointA:new s({x:2,z:0}),pointB:new s({x:0,z:1})}},r={第一象限:{pointA:new s({x:-2,z:0}),pointB:new s({x:0,z:-1})},第四象限:{pointA:new s({x:2,z:0}),pointB:new s({x:0,z:-1})},第二象限:{pointA:new s({x:2,z:0}),pointB:new s({x:0,z:-1})},第三象限:{pointA:new s({x:2,z:0}),pointB:new s({x:0,z:1})}},h=this.toolRadius!==0,c=this.position==="外侧",u=this.direction==="顺时针",g=h?1:0,x=c?1:-1,f={A:o[this.quadrant].pointA,B:o[this.quadrant].pointB},T={A:r[this.quadrant].pointA,B:r[this.quadrant].pointB},m={B:f.B.mul(a.sideB),A:f.A.mul(a.sideA)},p={A:T.A.mul(n.sideACRC).mul(g).mul(x),B:T.B.mul(n.sideBCRC).mul(g).mul(x)};if(u){let D;D=m.A,m.A=m.B,m.B=D}let A=new s(this.pointC).add(m.A),C=new s(this.pointC).add(m.B);return this.frontLineType==="竖直"&&(this.afterLineType==="水平"&&(A=A.add(p.A),C=C.add(p.B)),this.afterLineType==="竖直"&&(A=A.add(p.A),C=C.add(p.A))),this.frontLineType==="水平"&&(this.afterLineType==="水平"&&(A=A.add(p.B),C=C.add(p.B)),this.afterLineType==="竖直"&&(A=A.add(p.B),C=C.add(p.A))),this.chamferCRC=this.chamfer?this.chamfer+R.getSideCRC(this.toolRadius,45)*x:null,{pointA:A,pointB:C,chamferCRC:this.chamferCRC}}}class ut{constructor(i={}){e(this,"startPoint");e(this,"endPoint");e(this,"startExtendLength");e(this,"endExtendLength");e(this,"toolRadius");e(this,"distance");e(this,"taper");e(this,"direction");e(this,"angle");e(this,"outStartPoint");e(this,"outEndPoint");const{startPoint:t=new s({x:100,z:0}),endPoint:a=new s({x:120,z:-10}),startExtendLength:n=0,endExtendLength:o=0,toolRadius:r=0}=i;this.startPoint=t,this.endPoint=a,this.startExtendLength=n,this.endExtendLength=o,this.toolRadius=r;let h=new w(new s(t),new s(a));h=h.extendOrShorten({length:n,relative:"startPoint"}),h=h.extendOrShorten({length:o,relative:"endPoint"}),this.taper=h.startPoint.x-h.endPoint.x,this.angle=h.angle,this.direction=h.direction,this.distance=h.distance,this.outStartPoint=h.startPoint,this.outEndPoint=h.endPoint}}class gt{constructor(i={}){e(this,"startPoint");e(this,"endPoint");e(this,"startExtendLength");e(this,"endExtendLength");e(this,"toolRadius");e(this,"taper");e(this,"direction");e(this,"distance");e(this,"angle");e(this,"outStartPoint");e(this,"outEndPoint");const{startPoint:t=new s({x:100,z:0}),endPoint:a=new s({x:120,z:-10}),startExtendLength:n=0,endExtendLength:o=0,toolRadius:r=0}=i;this.startPoint=t,this.endPoint=a,this.startExtendLength=n,this.endExtendLength=o,this.toolRadius=r;let h=new w(new s(t),new s(a));h=h.extendOrShorten({length:n,relative:"startPoint"}),h=h.extendOrShorten({length:o,relative:"endPoint"}),this.taper=h.startPoint.y-h.endPoint.y,this.angle=h.angle,this.direction=h.direction,this.distance=h.distance,this.outStartPoint=h.startPoint,this.outEndPoint=h.endPoint}}class pt{constructor(i){e(this,"type");e(this,"nominalDiameter");e(this,"pitch");e(this,"toolRadius");e(this,"majorDiameter");e(this,"pitchDiameter");e(this,"minorDiameter");e(this,"toothHeight");e(this,"fullToothHeight");e(this,"lowDiameter");const{type:t="OD",nominalDiameter:a=12,pitch:n=1.75,toolRadius:o=.1}=i;this.type=t,this.nominalDiameter=a,this.pitch=n,this.toolRadius=o,this.fullToothHeight=.866*this.pitch,this.toothHeight=5/8*this.fullToothHeight,this.calculateDiameters()}calculateDiameters(){this.type==="ID"?(this.majorDiameter=this.nominalDiameter+.217*this.pitch-this.toolRadius,this.pitchDiameter=this.nominalDiameter-3/8*this.fullToothHeight*2,this.minorDiameter=this.nominalDiameter-this.pitch,this.lowDiameter=this.nominalDiameter-2*this.toothHeight):this.type==="OD"&&(this.majorDiameter=this.nominalDiameter,this.pitchDiameter=this.nominalDiameter-3/8*this.fullToothHeight*2,this.minorDiameter=this.nominalDiameter-2*this.toothHeight)}}const wt=at({__name:"Calculator",setup(l){class i{constructor(n){e(this,"name");e(this,"keyOption");e(this,"input");e(this,"output");e(this,"className");const{name:o,keyOption:r={value:"",options:[]},input:h,className:c}=n;this.name=o,this.keyOption=r,this.input=h,this.className=c,this.output=new c(st(h))}}const t=[new i({name:"Tolerance",input:{tolerance:new J},className:Q}),new i({name:"RightTriange-TowSide",keyOption:new K,input:{sideA:new P(3),sideB:new P(4)},className:B}),new i({name:"RightTriange-AngleAndSide",keyOption:new X,input:{angleA:new q(53.13),sideA:new P(3)},className:B}),new i({name:"RightTriangeChamferSimple",input:{value:new b(1),type:new Y("chamfer"),toolRadius:new y(0)},className:lt}),new i({name:"RightTriangeCtypeChamfer",input:{quadrant:new N,pointC:new v(new s({x:100,z:0})),angleA:new q(45),valueType:new V("Uhalf"),value:new b(1),direction:new H("逆时针"),position:new k("外侧"),toolRadius:new y(0)},className:ct}),new i({name:"RightTriangeRtypeChamfer",input:{quadrant:new N,pointC:new v(new s({x:100,z:0})),valueType:new V("Uhalf"),value:new Z(1),direction:new H("逆时针"),position:new k("外侧"),toolRadius:new y(0)},className:dt}),new i({name:"G90",input:{startPoint:new v(new s({x:100,z:0})),endPoint:new v(new s({x:120,z:-20})),startExtendLength:new P,endExtendLength:new P,toolRadius:new y(0)},className:gt}),new i({name:"G94",input:{startPoint:new v(new s({x:100,z:0})),endPoint:new v(new s({x:120,z:-20})),startExtendLength:new P,endExtendLength:new P,toolRadius:new y(0)},className:ut}),new i({name:"TriangleThread",input:{type:new tt,nominalDiameter:new et(53),pitch:new it(2),toolRadius:new y(.1)},className:pt})];return(a,n)=>(j(),M(ht,null,ot(t,o=>U(nt,{data:o,displayHader:!0},null,8,["data"])),64))}}),Rt=JSON.parse('{"title":"Calculator","description":"","frontmatter":{},"headers":[],"relativePath":"pages/lathe/Calculator.md","filePath":"pages/lathe/Calculator.md"}'),mt={name:"pages/lathe/Calculator.md"},yt=Object.assign(mt,{setup(l){return(i,t)=>(j(),M("div",{"data-pagefind-body":!0},[t[0]||(t[0]=z("h1",{id:"calculator",tabindex:"-1"},[rt("Calculator "),z("a",{class:"header-anchor",href:"#calculator","aria-label":'Permalink to "Calculator"'},"​")],-1)),t[1]||(t[1]=z("p",null,"This is a calculator component.",-1)),U(wt)]))}});export{Rt as __pageData,yt as default};
