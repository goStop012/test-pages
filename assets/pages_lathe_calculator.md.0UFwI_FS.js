var x=Object.defineProperty;var V=(e,a,t)=>a in e?x(e,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[a]=t;var u=(e,a,t)=>V(e,typeof a!="symbol"?a+"":a,t);import{d as defineComponent,W as reactive,s as ref,h as computed,v as watch,o as openBlock,c as createElementBlock,j as createBaseVNode,t as toDisplayString,k as unref,F as Fragment,E as renderList,$ as withDirectives,ae as vModelRadio,a as createTextVNode,n as normalizeClass,af as vModelSelect,ag as vModelDynamic,_ as _export_sfc,I as createVNode}from"./chunks/framework.Dpud8YDe.js";import{U as Utils,T as Tolerance,C as ChamferSimple,P as Point,a as CtypeChamfer,R as RtypeChamfer}from"./chunks/lib.DVY5Kw34.js";const _hoisted_1$1=["id"],_hoisted_2$1={key:0,type:"radio",disabled:""},_hoisted_3=["value"],_hoisted_4=["onUpdate:modelValue"],_hoisted_5=["value"],_hoisted_6={class:"point"},_hoisted_7=["type","onUpdate:modelValue","readonly"],_hoisted_8={key:1},_hoisted_9=["type","onUpdate:modelValue","readonly"],_hoisted_10={colspan:"2",class:"danger"},_sfc_main$2=defineComponent({__name:"CalculatorWidget",props:{data:{type:Object,required:!0}},setup(e){const a=e,{data:t}=a,{name:c,input:l,output:g,instance:B}=t,o=reactive(Object.assign({},l,g)),h=ref(null),$=["pointA"],m=ref(null),_=ref(null),w=computed(()=>Utils.difference(Object.keys(o),[_.value,...Object.keys(l)])),k=computed(()=>{const i={};return Object.keys(l).forEach(s=>{i[s]=o[s]}),i}),L=()=>{Object.keys(l).forEach(s=>{const d=l[s].constructor;try{new d(o[s])}catch(n){throw m.value=s,new Error(n)}m.value=null})};return watch(k,()=>{try{L();const i=new B.constructor(o);console.log(typeof(i==null?void 0:i.pointA));for(let s in o)o[s]=i[s];h.value=null}catch(i){h.value=`${i.message}`}},{immediate:!0,deep:!0}),(i,s)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("h2",{id:unref(c).toLowerCase().replaceAll(" ","-")},toDisplayString(unref(c)),9,_hoisted_1$1),createBaseVNode("table",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(o,(d,n)=>{var y;return openBlock(),createElementBlock("tr",null,[createBaseVNode("td",null,[createBaseVNode("span",null,[$.includes(n)?withDirectives((openBlock(),createElementBlock("input",{key:1,type:"radio",value:n,"onUpdate:modelValue":s[0]||(s[0]=r=>_.value=r)},null,8,_hoisted_3)),[[vModelRadio,_.value]]):(openBlock(),createElementBlock("input",_hoisted_2$1)),createTextVNode(" "+toDisplayString(n),1)])]),createBaseVNode("td",{class:normalizeClass({danger:m.value===n})},[(y=unref(l)[n])!=null&&y.options?withDirectives((openBlock(),createElementBlock("select",{key:0,"onUpdate:modelValue":r=>o[n]=r},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(l)[n].options,r=>(openBlock(),createElementBlock("option",{value:r},toDisplayString(r),9,_hoisted_5))),256))],8,_hoisted_4)),[[vModelSelect,o[n]]]):(openBlock(),createElementBlock(Fragment,{key:1},[d instanceof Object?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(d,(r,f)=>(openBlock(),createElementBlock("span",_hoisted_6,[createBaseVNode("label",null,toDisplayString(f),1),withDirectives(createBaseVNode("input",{type:typeof r=="number"?"number":"text","onUpdate:modelValue":C=>o[n][f]=C,readonly:w.value.includes(n)},null,8,_hoisted_7),[[vModelDynamic,o[n][f]]])]))),256)):(openBlock(),createElementBlock("span",_hoisted_8,[withDirectives(createBaseVNode("input",{type:typeof i.v=="number"?"number":"text","onUpdate:modelValue":r=>o[n]=r,readonly:w.value.includes(n)},null,8,_hoisted_9),[[vModelDynamic,o[n]]])]))],64))],2)])}),256)),createBaseVNode("tr",null,[createBaseVNode("td",_hoisted_10,toDisplayString(h.value),1)])])],64))}}),CalculatorWidget=_export_sfc(_sfc_main$2,[["__scopeId","data-v-1cca9bbe"]]),_sfc_main$1=defineComponent({__name:"Calculator",setup(__props){function LQuadrant(e){if(this.options=["第一象限","第四象限","第二象限","第三象限"],this.value=e||this.options[0],this.valid=()=>this.options.includes(this.value),!this.valid())throw new Error(`${this.constructor.name}，当前值：${this.value}，取值范围：${this.options},`)}function LDirection(e){if(this.options=["逆时针","顺时针"],this.value=e||this.options[0],this.valid=()=>this.options.includes(this.value),!this.valid())throw new Error(`${this.constructor.name}，当前值：${this.value}，取值范围：${this.options},`)}function LChamferType(e){if(this.options=["chamfer","radius"],this.value=e||this.options[0],this.valid=()=>this.options.includes(this.value),!this.valid())throw new Error(`${this.constructor.name}，当前值：${this.value}，取值范围：${this.options},`)}function LPosition(e){if(this.options=["外侧","内侧"],this.value=e||this.options[0],this.valid=()=>this.options.includes(this.value),!this.valid())throw new Error(`${this.constructor.name}，当前值：${this.value}，取值范围：${this.options},`)}function LAngle(v=45){this.value=v;const exp="value > -360 && value < 360";if(this.valid=value=>eval(exp),!this.valid(this.value))throw new Error(`${this.constructor.name}，当前值：${this.value}，取值范围：${exp}`)}function LChamfer(v=0){this.value=v;const exp="value > 0 && value < 100";if(this.valid=value=>eval(exp),!this.valid(this.value))throw new Error(`${this.constructor.name}，当前值：${this.value}，取值范围：${exp}`)}function LRadius(v=0){this.value=v;const exp="value > 0 && value < 1000";if(this.valid=value=>eval(exp),!this.valid(this.value))throw new Error(`${this.constructor.name}，当前值：${this.value}，取值范围：${exp}`)}function LTolerance(e="60"){if(this.value=e,this.valid=a=>a.split(" ").filter(t=>t).map(t=>parseFloat(t)).length>=1,!this.valid(this.value))throw new Error(`${this.constructor.name}，当前值：${this.value}，值格式为：62 0.05 -0.05`)}function LToolRadius(v=0){this.value=v;const exp="value >= 0 && value < 100.";if(this.valid=value=>eval(exp),!this.valid(this.value))throw new Error(`${this.constructor.name}，当前值：${this.value}，取值范围：${exp}`)}function LPoint(p=new Point({x:0,z:0})){this.value=p;const exp="value > -1000 && value < 1000";if(this.valid=array=>array.every(value=>eval(exp)),!this.valid([this.value.x,this.value.y]))throw new Error(`${this.constructor.name}，当前值：${JSON.stringify(this.value)}，取值范围：${exp}`)}function FtoValue(e){const a={};for(let t in e)a[t]=Utils.isObject(e[t])&&"value"in e[t]?e[t].value:e[t];return a}class Widget{constructor(a){u(this,"name");u(this,"input");u(this,"output");u(this,"instance");const{name:t,input:c,instance:l}=a;this.name=t,this.input=c,this.instance=l,this.output=new l.constructor(FtoValue(c))}}const widgetData=[new Widget({name:"Tolerance",input:{tolerance:new LTolerance},instance:new Tolerance}),new Widget({name:"RightTriangeChamferSimple",input:{value:new LChamfer(1),type:new LChamferType("chamfer"),toolRadius:new LToolRadius(0)},instance:new ChamferSimple}),new Widget({name:"RightTriangeCtypeChamfer",input:{quadrant:new LQuadrant,pointC:new LPoint(new Point({x:100,z:0})),angle:new LAngle(45),value:new LChamfer(1),direction:new LDirection("逆时针"),position:new LPosition("外侧"),toolRadius:new LToolRadius(0)},instance:new CtypeChamfer}),new Widget({name:"RightTriangeRtypeChamfer",input:{quadrant:new LQuadrant,pointC:new LPoint(new Point({x:100,z:0})),angle:new LAngle(45),value:new LRadius(1),direction:new LDirection("逆时针"),position:new LPosition("外侧"),toolRadius:new LToolRadius(0)},instance:new RtypeChamfer})];return console.log(widgetData[0]),(e,a)=>(openBlock(),createElementBlock(Fragment,null,renderList(widgetData,t=>createVNode(CalculatorWidget,{data:t},null,8,["data"])),64))}}),_hoisted_1=createBaseVNode("h1",{id:"calculator",tabindex:"-1"},[createTextVNode("Calculator "),createBaseVNode("a",{class:"header-anchor",href:"#calculator","aria-label":'Permalink to "Calculator"'},"​")],-1),_hoisted_2=createBaseVNode("p",null,"This is a calculator component.",-1),__pageData=JSON.parse('{"title":"Calculator","description":"","frontmatter":{},"headers":[],"relativePath":"pages/lathe/calculator.md","filePath":"pages/lathe/calculator.md"}'),__default__={name:"pages/lathe/calculator.md"},_sfc_main=Object.assign(__default__,{setup(e){return(a,t)=>(openBlock(),createElementBlock("div",{"data-pagefind-body":!0},[_hoisted_1,_hoisted_2,createVNode(_sfc_main$1)]))}});export{__pageData,_sfc_main as default};
