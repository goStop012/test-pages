var W=Object.defineProperty;var E=l=>{throw TypeError(l)};var J=(l,i,t)=>i in l?W(l,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[i]=t;var e=(l,i,t)=>J(l,typeof i!="symbol"?i+"":i,t),Q=(l,i,t)=>i.has(l)||E("Cannot "+t);var O=(l,i,t)=>i.has(l)?E("Cannot add the same private member more than once"):i instanceof WeakSet?i.add(l):i.set(l,t);var b=(l,i,t)=>(Q(l,i,"access private method"),t);import{L as K,T as X,a as Y,b as P,c as Z,d as q,e as N,f as tt,g as y,h as k,i as T,j as H,k as V,l as M,m as _,F as L,n as et,o as it,p as st,q as nt,r as at,C as ot}from"./chunks/inputValueType.DaeN4XhR.js";import{P as s}from"./chunks/Point.DhzxLGKq.js";import{U as j}from"./chunks/Utils.DC-NElVd.js";import{M as d}from"./chunks/Macro.4xAggGJu.js";import{d as ht,o as F,c as U,C as rt,F as lt,G,j as D,a as dt}from"./chunks/framework.5q7voRLl.js";class f{constructor(i){e(this,"sideA");e(this,"sideB");e(this,"sideC");e(this,"angleA");e(this,"angleB");e(this,"angleC",90);const{sideA:t,sideB:n,sideC:a,angleA:o,angleB:r}=i;if(this.validateInput({sideA:t,sideB:n,sideC:a,angleA:o,angleB:r}),t&&n)this.sideA=t,this.sideB=n,this.sideC=d.sqrt(t**2+n**2),this.angleA=d.asin(n/this.sideC),this.angleB=90-this.angleA;else if(t&&a)this.sideA=t,this.sideC=a,this.sideB=d.sqrt(a**2-t**2),this.angleB=d.asin(t/a),this.angleA=90-this.angleB;else if(n&&a)this.sideB=n,this.sideC=a,this.sideA=d.sqrt(a**2-n**2),this.angleA=d.asin(n/a),this.angleB=90-this.angleA;else if(o&&t)this.angleA=o,this.sideA=t,this.angleB=90-o,this.sideC=t/d.cos(o),this.sideB=this.sideC*d.sin(o);else if(o&&n)this.angleA=o,this.sideB=n,this.angleB=90-o,this.sideC=n/d.sin(o),this.sideA=this.sideC*d.cos(o);else if(o&&a)this.angleA=o,this.sideC=a,this.angleB=90-o,this.sideB=a*d.sin(o),this.sideA=a*d.cos(o);else if(r&&t)this.angleB=r,this.sideA=t,this.angleA=90-r,this.sideC=t/d.sin(r),this.sideB=this.sideC*d.cos(r);else if(r&&n)this.angleB=r,this.sideB=n,this.angleA=90-r,this.sideC=n/d.cos(r),this.sideA=this.sideC*d.sin(r);else if(r&&a)this.angleB=r,this.sideC=a,this.angleA=90-r,this.sideA=a*d.sin(r),this.sideB=a*d.cos(r);else throw new Error("Invalid input combination.");this.validatePythagoras(),this.validateAngles()}validateInput(i){if(Object.values(i).filter(n=>n!==void 0).length<2)throw new Error("At least two values must be provided.")}validateAngles(){if(this.angleA&&this.angleB&&d.abs(this.angleA+this.angleB-90)>1e-4)throw new Error("The sum of angleA and angleB must be 90 degrees.")}validatePythagoras(){if(this.sideA&&this.sideB&&this.sideC&&d.abs(this.sideA**2+this.sideB**2-this.sideC**2)>1e-4)throw new Error("The lengths do not satisfy the Pythagorean theorem.")}toPoint(){if(this.sideA&&this.sideB)return new s({x:this.sideA*2,z:this.sideB})}}class R extends f{constructor(t={}){super(t);e(this,"toolRadius");e(this,"toolPositon");e(this,"sideACRC",0);e(this,"sideBCRC",0);const{toolRadius:n=0,toolPositon:a="前刀尖",angleA:o,sideA:r,sideB:h,sideC:c}=t;if(n<0)throw new Error(`${this.constructor.name}，当前值：toolRadius = ${n}，取值范围：toolRadius > 0`);if(!this.angleA)throw new Error(`${this.constructor.name}，Triangle angle must be set before calculating CRC.`);if(this.toolRadius=n,this.toolPositon=a,this.toolRadius===0)this.sideACRC=0,this.sideBCRC=0;else if(this.toolPositon==="前刀尖"&&(this.sideACRC=R.getSideCRC(this.toolRadius,this.angleA),this.sideBCRC=R.getSideCRC(this.toolRadius,90-this.angleA)),this.toolPositon==="后刀尖"){const u=R.getSideCRC(this.toolRadius,90-this.angleA);this.sideBCRC=this.toolRadius*2-u,this.sideACRC=new f({angleA:this.angleA,sideB:this.sideBCRC}).sideA}}static getSideCRC(t,n){return t-t*d.tan(n/2)}toPoint(){return new s({x:this.sideACRC*2,z:this.sideBCRC})}}class w{constructor(i,t){e(this,"startPoint");e(this,"endPoint");this.startPoint=i,this.endPoint=t}get vector(){return this.endPoint.sub(this.startPoint)}get distance(){return d.sqrt(this.vector.x**2+this.vector.y**2)}get unitVector(){return this.vector.div(this.distance)}get middle(){return this.startPoint.add(this.endPoint).div(2)}get slope(){return this.vector.x===0?1/0:this.vector.y/this.vector.x}get angle(){return j.radiansToDegrees(Math.atan2(this.vector.y,this.vector.x))}get increase(){return new s({y:(this.endPoint.y-this.startPoint.y)/2,x:this.endPoint.x-this.startPoint.x})}get direction(){return this.angle===90?"↑":this.angle===270?"↓":this.angle===0?"→":this.angle===180?"←":this.increase.x>0&&this.increase.y<0?"↘":this.increase.x<0&&this.increase.y<0?"↙":this.increase.x>0&&this.increase.y>0?"↗":this.increase.x<0&&this.increase.y>0?"↖":"null"}extendOrShorten(i={}){const{length:t=1,relative:n="startPoint",type:a="sideC"}=i,o=t/1,r=n==="startPoint"?-1:1;let h;if(t>0)switch(a){case"sideA":h=new f({angleA:this.angle%90,sideA:t}).toPoint();break;case"sideB":h=new f({angleA:this.angle%90,sideB:t}).toPoint();break;case"sideC":h=new f({angleA:this.angle%90,sideC:t}).toPoint();break;default:h=new s({y:0,x:0});break}else h=new s({y:0,x:0});const c=this[n].y+h.y*Math.sign(this.vector.y)*o*r,u=this[n].x+h.x*Math.sign(this.vector.x)*o*r;return n==="startPoint"?new w(new s({y:c,x:u}),this.endPoint):new w(this.startPoint,new s({y:c,x:u}))}rotateByStart(i){const t=j.degreesToRadians(i),n=Math.cos(t),a=Math.sin(t),o=this.vector.x*n-this.vector.y*a,r=this.vector.x*a+this.vector.y*n;return new w(this.startPoint,new s({x:o,y:r}).add(this.startPoint))}translation(i){return new w(this.startPoint.add(i),this.endPoint.add(i))}}var z,I;class ct{constructor(i={}){O(this,z);e(this,"toolRadius");e(this,"value");e(this,"type");e(this,"u");e(this,"w");const{toolRadius:t=.4,value:n=1,type:a="chamfer"}=i;this.toolRadius=t,this.value=n,this.type=a,b(this,z,I).call(this)}}z=new WeakSet,I=function(){this.type==="chamfer"?(this.w=this.value+R.getSideCRC(this.toolRadius,45),this.u=this.w*2):this.type==="radius"&&(this.w=this.value+this.toolRadius,this.u=this.w*2)};class ${constructor({quadrant:i="第一象限",pointC:t=new s({x:100,z:0}),angleA:n=45,value:a=1,direction:o="逆时针",position:r="外侧",toolRadius:h=.4,frontLineType:c="竖直",afterLineType:u="水平",toolPositon:p="前刀尖",valueType:x="Uhalf"}={}){e(this,"quadrant");e(this,"pointC");e(this,"angleA");e(this,"valueType");e(this,"value");e(this,"direction");e(this,"position");e(this,"toolRadius");e(this,"toolPositon");e(this,"frontLineType");e(this,"afterLineType");e(this,"pointA");e(this,"pointB");this.quadrant=i,this.pointC=t,this.angleA=n,this.value=a,this.direction=o,this.position=r,this.toolRadius=h,this.frontLineType=c,this.afterLineType=u,this.toolPositon=p,this.valueType=x}}class ut extends ${constructor(t={}){const{quadrant:n="第一象限",pointC:a=new s({x:100,z:0}),angleA:o=45,value:r=1,direction:h="逆时针",position:c="外侧",toolRadius:u=.4,frontLineType:p="竖直",afterLineType:x="水平"}=t;super(t);e(this,"radius");e(this,"radiusCRC");this.radius=o===45?this.value:void 0;const A=this.calc();this.pointA=A.pointA,this.pointB=A.pointB,this.radiusCRC=A.radiusCRC}calc(){const t=new f({angleA:this.angleA,sideA:this.value}),n={第一象限:{pointA:new s({x:-(t.sideA*2),z:0}),pointB:new s({x:0,z:-t.sideB})},第四象限:{pointA:new s({x:0,z:-t.sideB}),pointB:new s({x:t.sideA*2,z:0})},第二象限:{pointA:new s({x:0,z:t.sideB}),pointB:new s({x:-(t.sideA*2),z:0})},第三象限:{pointA:new s({x:t.sideA*2,z:0}),pointB:new s({x:0,z:t.sideB})}},a=this.toolRadius!==0,o=this.position==="外侧",r=this.direction==="顺时针",h=a?this.toolRadius:0,c=o?1:-1,u=n[this.quadrant],p=u.pointA.mul(h*c),x=u.pointB.mul(h*c),A=new s(this.pointC).add(u.pointA).add(p),v=new s(this.pointC).add(u.pointB).add(x),m=this.radius??0,g=a?o?m+this.toolRadius:m-this.toolRadius:m;return r?{pointA:v,pointB:A,radiusCRC:g}:{pointA:A,pointB:v,radiusCRC:g}}}class pt extends ${constructor(t={}){const{quadrant:n="第一象限",pointC:a=new s({x:100,z:0}),angleA:o=45,value:r=1,direction:h="逆时针",position:c="外侧",toolRadius:u=0}=t;super(t);e(this,"chamfer");e(this,"chamferCRC");e(this,"unitVector");e(this,"length");e(this,"arrowDirection");e(this,"extendFromPointA");this.chamfer=this.angleA===45?this.value:void 0;const p=this.calc();this.pointA=p.pointA,this.pointB=p.pointB,this.chamferCRC=p.chamferCRC,this.arrowDirection=new w(this.pointA,this.pointB).direction,this.unitVector=new w(this.pointA,this.pointB).unitVector,this.extendFromPointA=new w(this.pointA,this.pointB).extendOrShorten().startPoint,this.length=new w(this.pointA,this.pointB).distance}calc(){(this.quadrant==="第二象限"||this.quadrant==="第三象限")&&(this.toolPositon="后刀尖");let t;this.valueType==="Uhalf"&&(t=this.value),this.valueType==="W"&&(t=new f({angleA:this.angleA,sideB:this.value}).sideA);const n=new f({angleA:this.angleA,sideA:t}),a=new R({toolRadius:this.toolRadius,angleA:this.angleA,sideA:t,toolPositon:this.toolPositon}),o={第一象限:{pointA:new s({x:-2,z:0}),pointB:new s({x:0,z:-1})},第四象限:{pointA:new s({x:2,z:0}),pointB:new s({x:0,z:-1})},第二象限:{pointA:new s({x:-2,z:0}),pointB:new s({x:0,z:1})},第三象限:{pointA:new s({x:2,z:0}),pointB:new s({x:0,z:1})}},r={第一象限:{pointA:new s({x:-2,z:0}),pointB:new s({x:0,z:-1})},第四象限:{pointA:new s({x:2,z:0}),pointB:new s({x:0,z:-1})},第二象限:{pointA:new s({x:2,z:0}),pointB:new s({x:0,z:-1})},第三象限:{pointA:new s({x:2,z:0}),pointB:new s({x:0,z:1})}},h=this.toolRadius!==0,c=this.position==="外侧",u=this.direction==="顺时针",p=h?1:0,x=c?1:-1,A={A:o[this.quadrant].pointA,B:o[this.quadrant].pointB},v={A:r[this.quadrant].pointA,B:r[this.quadrant].pointB},m={B:A.B.mul(n.sideB),A:A.A.mul(n.sideA)},g={A:v.A.mul(a.sideACRC).mul(p).mul(x),B:v.B.mul(a.sideBCRC).mul(p).mul(x)};if(u){let S;S=m.A,m.A=m.B,m.B=S}let C=new s(this.pointC).add(m.A),B=new s(this.pointC).add(m.B);return this.frontLineType==="竖直"&&(this.afterLineType==="水平"&&(C=C.add(g.A),B=B.add(g.B)),this.afterLineType==="竖直"&&(C=C.add(g.A),B=B.add(g.A))),this.frontLineType==="水平"&&(this.afterLineType==="水平"&&(C=C.add(g.B),B=B.add(g.B)),this.afterLineType==="竖直"&&(C=C.add(g.B),B=B.add(g.A))),this.chamferCRC=this.chamfer?this.chamfer+R.getSideCRC(this.toolRadius,45)*x:null,{pointA:C,pointB:B,chamferCRC:this.chamferCRC}}}class gt{constructor(i={}){e(this,"startPoint");e(this,"endPoint");e(this,"startExtendLength");e(this,"endExtendLength");e(this,"toolRadius");e(this,"distance");e(this,"taper");e(this,"direction");e(this,"angle");e(this,"outStartPoint");e(this,"outEndPoint");const{startPoint:t=new s({x:100,z:0}),endPoint:n=new s({x:120,z:-10}),startExtendLength:a=0,endExtendLength:o=0,toolRadius:r=0}=i;this.startPoint=t,this.endPoint=n,this.startExtendLength=a,this.endExtendLength=o,this.toolRadius=r;let h=new w(new s(t),new s(n));h=h.extendOrShorten({length:a,relative:"startPoint",type:"sideA"}),h=h.extendOrShorten({length:o,relative:"endPoint",type:"sideA"}),this.taper=h.startPoint.x-h.endPoint.x,this.angle=h.angle,this.direction=h.direction,this.distance=h.distance,this.outStartPoint=h.startPoint,this.outEndPoint=h.endPoint}}class wt{constructor(i={}){e(this,"startPoint");e(this,"endPoint");e(this,"startExtendLength");e(this,"endExtendLength");e(this,"toolRadius");e(this,"taper");e(this,"direction");e(this,"distance");e(this,"angle");e(this,"outStartPoint");e(this,"outEndPoint");const{startPoint:t=new s({x:100,z:0}),endPoint:n=new s({x:120,z:-10}),startExtendLength:a=0,endExtendLength:o=0,toolRadius:r=0}=i;this.startPoint=t,this.endPoint=n,this.startExtendLength=a,this.endExtendLength=o,this.toolRadius=r;let h=new w(new s(t),new s(n));h=h.extendOrShorten({length:a,relative:"startPoint",type:"sideB"}),h=h.extendOrShorten({length:o,relative:"endPoint",type:"sideB"}),this.taper=h.startPoint.y-h.endPoint.y,this.angle=h.angle,this.direction=h.direction,this.distance=h.distance,this.outStartPoint=h.startPoint,this.outEndPoint=h.endPoint}}class mt{constructor(i){e(this,"type");e(this,"nominalDiameter");e(this,"pitch");e(this,"toolRadius");e(this,"majorDiameter");e(this,"pitchDiameter");e(this,"minorDiameter");e(this,"tureMinorDiameter");e(this,"toothHeight");e(this,"fullToothHeight");e(this,"lowDiameter");const{type:t="OD",nominalDiameter:n=12,pitch:a=1.75,toolRadius:o=.1}=i;this.type=t,this.nominalDiameter=n,this.pitch=a,this.toolRadius=o,this.fullToothHeight=.866*this.pitch,this.toothHeight=5/8*this.fullToothHeight,this.calculateDiameters()}calculateDiameters(){this.type==="ID"?(this.majorDiameter=this.nominalDiameter+.217*this.pitch-this.toolRadius,this.pitchDiameter=this.nominalDiameter-3/8*this.fullToothHeight*2,this.minorDiameter=this.nominalDiameter-this.pitch,this.lowDiameter=this.nominalDiameter-2*this.toothHeight):this.type==="OD"&&(this.majorDiameter=this.nominalDiameter,this.pitchDiameter=this.nominalDiameter-3/8*this.fullToothHeight*2,this.minorDiameter=this.nominalDiameter-2*this.toothHeight,this.tureMinorDiameter=this.nominalDiameter-(this.fullToothHeight-this.fullToothHeight/8-this.toolRadius)*2)}}const ft=ht({__name:"Calculator",setup(l){class i{constructor(a){e(this,"name");e(this,"keyOption");e(this,"input");e(this,"output");e(this,"className");const{name:o,keyOption:r={value:"",options:[]},input:h,className:c}=a;this.name=o,this.keyOption=r,this.input=h,this.className=c,this.output=new c(at(h))}}const t=[new i({name:"Tolerance",input:{tolerance:new K},className:X}),new i({name:"RightTriange-TowSide",keyOption:new Y,input:{sideA:new P(3),sideB:new P(4)},className:f}),new i({name:"RightTriange-AngleAndSide",keyOption:new Z,input:{angleA:new q(53.13),sideA:new P(3)},className:f}),new i({name:"RightTriangeChamferSimple",input:{value:new N(1),type:new tt("chamfer"),toolRadius:new y(0)},className:ct}),new i({name:"RightTriangeCtypeChamfer",input:{quadrant:new k,pointC:new T(new s({x:100,z:0})),angleA:new q(45),valueType:new H("Uhalf"),value:new N(1),direction:new V("逆时针"),position:new M("外侧"),toolPositon:new _("前刀尖"),toolRadius:new y(0),frontLineType:new L("竖直"),afterLineType:new L("水平")},className:pt}),new i({name:"RightTriangeRtypeChamfer",input:{quadrant:new k,pointC:new T(new s({x:100,z:0})),valueType:new H("Uhalf"),value:new et(1),direction:new V("逆时针"),position:new M("外侧"),toolPositon:new _("前刀尖"),toolRadius:new y(0),frontLineType:new L("竖直"),afterLineType:new L("水平")},className:ut}),new i({name:"G90",input:{startPoint:new T(new s({x:100,z:0})),endPoint:new T(new s({x:120,z:-20})),startExtendLength:new P,endExtendLength:new P,toolRadius:new y(0)},className:wt}),new i({name:"G94",input:{startPoint:new T(new s({x:100,z:0})),endPoint:new T(new s({x:120,z:-20})),startExtendLength:new P,endExtendLength:new P,toolRadius:new y(0)},className:gt}),new i({name:"TriangleThread",input:{type:new it,nominalDiameter:new st(53),pitch:new nt(2),toolRadius:new y(.1)},className:mt})];return(n,a)=>(F(),U(lt,null,rt(t,o=>G(ot,{data:o,displayHader:!0},null,8,["data"])),64))}}),Tt=JSON.parse('{"title":"Calculator","description":"","frontmatter":{},"headers":[],"relativePath":"pages/lathe/Calculator.md","filePath":"pages/lathe/Calculator.md"}'),At={name:"pages/lathe/Calculator.md"},vt=Object.assign(At,{setup(l){return(i,t)=>(F(),U("div",{"data-pagefind-body":!0},[t[0]||(t[0]=D("h1",{id:"calculator",tabindex:"-1"},[dt("Calculator "),D("a",{class:"header-anchor",href:"#calculator","aria-label":'Permalink to "Calculator"'},"​")],-1)),t[1]||(t[1]=D("p",null,"This is a calculator component.",-1)),G(ft)]))}});export{Tt as __pageData,vt as default};
