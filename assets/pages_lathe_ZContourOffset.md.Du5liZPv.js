import{_ as R,W as k,D as I,o as x,c as C,j as e,I as F,w as W,a as Z,$ as _,ad as b,F as y,E as D,t as M,p as B,l as P}from"./chunks/framework.Dpud8YDe.js";const d=c=>(B("data-v-43358e65"),c=c(),P(),c),T=d(()=>e("header",null,[e("h1",null,"轮廓偏移")],-1)),X=d(()=>e("legend",null,"偏移",-1)),j=d(()=>e("legend",null,"输入",-1)),z=d(()=>e("legend",null,"输出",-1)),G=d(()=>e("legend",null,"表达式列表",-1)),J={__name:"ZContourOffset",setup(c){let O=l=>Number.parseFloat(l);Number.prototype.toAxisFloatValue=function(){let l=Math.round(Number(this)*1e3)/1e3;return O(l.toString())},Number.prototype.formatAxisFloatValue=function(){let l=this.toAxisFloatValue().toString();return l.indexOf(".")<0?l+".":l},Number.prototype.print=function(){return this.formatAxisFloatValue()};function V(l){if(!l.startsWith("="))return l;l=l.slice(1).replace(/\b([A-Z])(\d{1,2})\b/g,(n,a,o)=>`get(${a.charCodeAt(0)-65},${o})`);try{return new Function("get",`return ${l}`)()}catch(n){return`#ERROR ${n}`}}const t=k({u:.11,w:-.051,inputCode:`
G1 X[=62+2/2-1,,-0.45] Z[1.,1]
U1.5
G1 Z0. F0.25
U-1.5 W-0.75
Z-2.
`,outputCode:"",replaceList:[]}),U=(l=l,n=t.inputCode,a=t.outputCode,o=t.u,E=t.w)=>{let S=n.toUpperCase().matchAll(/(X|Z)(\[(?<tolerancesExpression>.*?)\]|(?<address>-?\d{0,}(\.\d{0,})?))/g),w=[];t.replaceList=[];for(let u of S){let s,p=u[1],f=u.groups.tolerancesExpression,m=u.groups.address;if(f){let r=f.split(","),N=r.length;r.length<3&&(r.length=3,r.fill(0,N)),r[0]=V(r[0]),r=r.map(L=>Number(L));let[v,h,g]=r;h===0?s=v+g:g===0?s=v+h:h!==0&&g!==0&&(s=v+(h+g)/2)}else m&&(s=Number(m));console.log(u[0],s.print());let i;p==="X"&&(i=Number(o)),p==="Z"&&(i=Number(E)),s+=i,w.push([u[0],p+s.print(),RegExp.leftContext.length,RegExp.lastMatch.length,s,i])}a=n;let $=0;for(let[u,s,p,f,m,i]of w){let r=a.slice(0,p+$),N=a.slice(p+$+f);a=r+s+N,$+=s.length-u.length,console.log(`${u} => ${s}`),t.replaceList.push({source:u,express:`${m-i} + ${i}`,target:s})}console.log(a),t.outputCode=a},A=()=>{t.u=0,t.w=0,t.inputCode="",t.outputCode="",t.replaceList=[]};return(l,n)=>{const a=I("from");return x(),C(y,null,[T,e("main",null,[F(a,null,{default:W(()=>[e("fieldset",null,[X,e("label",null,[Z(" U: [ "),_(e("input",{type:"number",maxlength:"10",placeholder:"U","onUpdate:modelValue":n[0]||(n[0]=o=>t.u=o)},null,512),[[b,t.u]]),Z(" ] W: [ "),_(e("input",{type:"number",maxlength:"10",placeholder:"W","onUpdate:modelValue":n[1]||(n[1]=o=>t.w=o)},null,512),[[b,t.w]]),Z(" ] ")])]),e("fieldset",null,[j,_(e("textarea",{class:"message","onUpdate:modelValue":n[2]||(n[2]=o=>t.inputCode=o)},null,512),[[b,t.inputCode]])]),e("fieldset",{class:"from-button"},[e("input",{type:"button",value:"生成",class:"button-blue",onClick:U}),e("input",{type:"reset",value:"清空",class:"button-orange",onClick:A})]),e("fieldset",null,[z,_(e("textarea",{class:"message","onUpdate:modelValue":n[3]||(n[3]=o=>t.outputCode=o)},null,512),[[b,t.outputCode]])]),e("fieldset",null,[G,e("ol",null,[(x(!0),C(y,null,D(t.replaceList,o=>(x(),C("li",null,M(`${o.source} => ${o.express} => ${o.target}`),1))),256))])])]),_:1})])],64)}}},q=R(J,[["__scopeId","data-v-43358e65"]]),H=e("h1",{id:"zcontouroffset",tabindex:"-1"},[Z("ZContourOffset "),e("a",{class:"header-anchor",href:"#zcontouroffset","aria-label":'Permalink to "ZContourOffset"'},"​")],-1),K=e("p",null,"This is a ZContourOffset component.",-1),ee=JSON.parse('{"title":"ZContourOffset","description":"","frontmatter":{},"headers":[],"relativePath":"pages/lathe/ZContourOffset.md","filePath":"pages/lathe/ZContourOffset.md"}'),Q={name:"pages/lathe/ZContourOffset.md"},te=Object.assign(Q,{setup(c){return(O,V)=>(x(),C("div",{"data-pagefind-body":!0},[H,K,F(q)]))}});export{ee as __pageData,te as default};
