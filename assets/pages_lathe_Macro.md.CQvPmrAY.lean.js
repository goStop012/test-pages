import{_ as O,U as V,v as A,ab as C,o as s,c as u,j as l,t as _,k as x,F as v,C as g,e as M,Y as j,ad as U,ae as T,G as k,a as I}from"./chunks/framework.5q7voRLl.js";import{M as p}from"./chunks/Macro.4xAggGJu.js";import"./chunks/Utils.DC-NElVd.js";const w=["id"],F={key:0},L={key:1},N=["colspan"],B=["onUpdate:modelValue"],D=["value"],S=["readonly","onUpdate:modelValue"],q=["value"],P={__name:"MacroWidget",props:{config:{type:Object,required:!0}},setup(b){const e=b,r=e.config;function h(o){const a={};for(let n in o)a[n]=o[n].value;return a}function m(o){return typeof o=="number"?parseFloat(o.toFixed(5)):typeof o=="string"?o.toString().toUpperCase():o}function f(o,a){const n=Object.keys(a).length,i=o.reduce((c,d)=>Object.keys(d).length>c?Object.keys(d).length:c,-1/0);return n===1&&i!==1?i:void 0}const t=V({items:(r==null?void 0:r.items)||[],select:""}),y=(r==null?void 0:r.calc)||(()=>({}));return A(()=>{console.log("mounted",e.config.name,{items:C(t.items)})}),(o,a)=>(s(),u(v,null,[l("h2",{id:x(r).name.toLowerCase().replaceAll(" ","-")},_(x(r).name),9,w),l("table",null,[(s(!0),u(v,null,g(t.items,n=>(s(),u("tr",null,[a[0]||(a[0]=l("td",null," [ ",-1)),(s(!0),u(v,null,g(n.value,(i,c)=>(s(),u(v,null,[Object.keys(n.value).length>1&&(Object.keys(n.value).findIndex(d=>d===c)+1)%2===0?(s(),u("td",F,_(n.name.toUpperCase()),1)):M("",!0),Object.keys(n.value).length==1?(s(),u("td",L,_(n.name.toUpperCase()),1)):M("",!0),l("td",{colspan:f(Object.values(h(t.items)),n.value)},[Array.isArray(n.range)?j((s(),u("select",{key:0,"onUpdate:modelValue":d=>n.value[c]=d},[(s(!0),u(v,null,g(n.range,d=>(s(),u("option",{value:d},_(d),9,D))),256))],8,B)),[[U,n.value[c]]]):j((s(),u("input",{key:1,type:"number",readonly:n.name===t.select,"onUpdate:modelValue":d=>n.value[c]=d},null,8,S)),[[T,n.value[c]]])],8,N)],64))),256)),a[1]||(a[1]=l("td",null," ] ",-1)),a[2]||(a[2]=l("td",null," = ",-1)),l("td",null,[l("input",{type:"text",readonly:"",value:m(x(y)[n.name](...Object.values(n.value)))},null,8,q)]),l("td",null,_(n.comment),1)]))),256))])],64))}},E=O(P,[["__scopeId","data-v-759776c2"]]),R={__name:"Macro",setup(b){function e(m="default",f="默认注释",t=void 0,y={min:-9999.9999,max:9999.9999},o=!1){(t===void 0||typeof t=="number"||typeof t=="string"||typeof t=="boolean"||Array.isArray(t))&&(t={value_:t});const a={name:m,comment:f,value:t,range:y||{min:-9999.9999,max:9999.9999},disabled:o};{let n;Array.isArray(t)?n=t:typeof t=="object"?n=[...Object.values(t).flat()]:n=[t],n.every(i=>typeof i=="boolean")?a.inType="boolean":n.every(i=>typeof i=="string")?a.inType="string":n.every(i=>typeof i=="number")&&(a.inType="number")}return a}function r(...m){const f={};return m.forEach(t=>{f[t.name]=t}),f}const h={Arithmetic:{name:"算术运算",items:r(e("+","加法",{lv:1,rv:2},void 0,!0),e("-","减法",{lv:1,rv:2},void 0,!0),e("*","乘法",{lv:1,rv:2},void 0,!0),e("/","除法",{lv:1,rv:2},void 0,!0)),calc:p},Comparison:{name:"比较运算",items:r(e("eq","等于",{lv:1,rv:2},void 0,!0),e("ne","不等于",{lv:1,rv:2},void 0,!0),e("gt","大于",{lv:1,rv:2},void 0,!0),e("ge","大于等于",{lv:1,rv:2},void 0,!0),e("lt","小于",{lv:1,rv:2},void 0,!1),e("le","小于等于",{lv:1,rv:2},void 0,!0)),calc:p},Logic:{name:"逻辑运算",items:r(e("and","与",{lv:"1100",rv:"1101"},void 0,!0),e("or","或",{lv:"1100",rv:"1101"},void 0,!0),e("xor","异或",{lv:"1100",rv:"1101"},void 0,!0),e("not","非","1100",void 0,!0)),calc:p},Trigonometry:{name:"三角函数",items:r(e("sin","正弦，对边比斜边",30,{min:0,max:90},!0),e("cos","余弦，邻边比斜边",60,{min:0,max:90},!0),e("tan","正切，对边比邻边",45,{min:0,max:90},!0),e("asin","反正弦，正弦值对应的角度",.5,{min:-1,max:1},!0),e("acos","反余弦，余弦值对应的角度",.5,{min:-1,max:1},!0),e("atan","反正切，正切值对应的角度",1,{min:-1,max:1},!0)),calc:p},Function:{name:"函数",items:r(e("sqrt","平方根",4,void 0,!0),e("abs","绝对值",-2,void 0,!0),e("round","四舍五入",3.6,void 0,!0),e("exp","指数",2,void 0,!0),e("ln","对数",10,void 0,!0),e("fix","下取整",3.6,void 0,!0),e("fup","上取整",3.6,void 0,!0)),calc:p},B2D:{name:"进制转换",items:r(e("b2d","二进制转十进制","101010",void 0,!0),e("d2b","十进制转二进制","10",void 0,!0)),calc:p}};return(m,f)=>(s(),u(v,null,g(h,(t,y)=>k(E,{key:y,config:t},null,8,["config"])),64))}},Y=JSON.parse('{"title":"Macro","description":"","frontmatter":{},"headers":[],"relativePath":"pages/lathe/Macro.md","filePath":"pages/lathe/Macro.md"}'),W={name:"pages/lathe/Macro.md"},z=Object.assign(W,{setup(b){return(e,r)=>(s(),u("div",{"data-pagefind-body":!0},[r[0]||(r[0]=l("h1",{id:"macro",tabindex:"-1"},[I("Macro "),l("a",{class:"header-anchor",href:"#macro","aria-label":'Permalink to "Macro"'},"​")],-1)),r[1]||(r[1]=l("p",null,"This is a macro component.",-1)),k(R)]))}});export{Y as __pageData,z as default};
