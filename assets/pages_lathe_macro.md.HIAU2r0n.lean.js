import{_ as I,W as V,y as A,ah as C,o,c as s,j as u,t as y,k as x,F as h,E as g,e as k,$ as O,af as S,ad as T,p as U,l as w,I as M,a as F}from"./chunks/framework.Dpud8YDe.js";import{M as _}from"./chunks/lib.DVY5Kw34.js";const j=f=>(U("data-v-67b3be3c"),f=f(),w(),f),L=["id"],N=j(()=>u("td",null," [ ",-1)),$={key:0},B={key:1},D=["colspan"],q=["onUpdate:modelValue"],E=["value"],P=["readonly","onUpdate:modelValue"],W=j(()=>u("td",null," ] ",-1)),R=j(()=>u("td",null," = ",-1)),J=["value"],z={__name:"MacroWidget",props:{config:{type:Object,required:!0}},setup(f){const e=f,r=e.config;function b(a){const c={};for(let t in a)c[t]=a[t].value;return c}function p(a){return typeof a=="number"?parseFloat(a.toFixed(4)):typeof a=="string"?a.toString().toUpperCase():a}function m(a,c){const t=Object.keys(c).length,d=a.reduce((i,l)=>Object.keys(l).length>i?Object.keys(l).length:i,-1/0);return t===1&&d!==1?d:void 0}const n=V({items:(r==null?void 0:r.items)||[],select:""}),v=(r==null?void 0:r.calc)||(()=>({}));return A(()=>{console.log("mounted",e.config.name,{items:C(n.items)})}),(a,c)=>(o(),s(h,null,[u("h2",{id:x(r).name.toLowerCase().replaceAll(" ","-")},y(x(r).name),9,L),u("table",null,[(o(!0),s(h,null,g(n.items,t=>(o(),s("tr",null,[N,(o(!0),s(h,null,g(t.value,(d,i)=>(o(),s(h,null,[Object.keys(t.value).length>1&&(Object.keys(t.value).findIndex(l=>l===i)+1)%2===0?(o(),s("td",$,y(t.name.toUpperCase()),1)):k("",!0),Object.keys(t.value).length==1?(o(),s("td",B,y(t.name.toUpperCase()),1)):k("",!0),u("td",{colspan:m(Object.values(b(n.items)),t.value)},[Array.isArray(t.range)?O((o(),s("select",{key:0,"onUpdate:modelValue":l=>t.value[i]=l},[(o(!0),s(h,null,g(t.range,l=>(o(),s("option",{value:l},y(l),9,E))),256))],8,q)),[[S,t.value[i]]]):O((o(),s("input",{key:1,type:"number",readonly:t.name===n.select,"onUpdate:modelValue":l=>t.value[i]=l},null,8,P)),[[T,t.value[i]]])],8,D)],64))),256)),W,R,u("td",null,[u("input",{type:"text",readonly:"",value:p(x(v)[t.name](...Object.values(t.value)))},null,8,J)]),u("td",null,y(t.comment),1)]))),256))])],64))}},G=I(z,[["__scopeId","data-v-67b3be3c"]]),H={__name:"Macro",setup(f){function e(p="default",m="默认注释",n=void 0,v={min:-9999.9999,max:9999.9999},a=!1){(n===void 0||typeof n=="number"||typeof n=="string"||typeof n=="boolean"||Array.isArray(n))&&(n={value_:n});const c={name:p,comment:m,value:n,range:v||{min:-9999.9999,max:9999.9999},disabled:a};{let t;Array.isArray(n)?t=n:typeof n=="object"?t=[...Object.values(n).flat()]:t=[n],t.every(d=>typeof d=="boolean")?c.inType="boolean":t.every(d=>typeof d=="string")?c.inType="string":t.every(d=>typeof d=="number")&&(c.inType="number")}return c}function r(...p){const m={};return p.forEach(n=>{m[n.name]=n}),m}const b={Arithmetic:{name:"算术运算",items:r(e("+","加法",{lv:1,rv:2},void 0,!0),e("-","减法",{lv:1,rv:2},void 0,!0),e("*","乘法",{lv:1,rv:2},void 0,!0),e("/","除法",{lv:1,rv:2},void 0,!0)),calc:_},Comparison:{name:"比较运算",items:r(e("eq","等于",{lv:1,rv:2},void 0,!0),e("ne","不等于",{lv:1,rv:2},void 0,!0),e("gt","大于",{lv:1,rv:2},void 0,!0),e("ge","大于等于",{lv:1,rv:2},void 0,!0),e("lt","小于",{lv:1,rv:2},void 0,!1),e("le","小于等于",{lv:1,rv:2},void 0,!0)),calc:_},Logic:{name:"逻辑运算",items:r(e("and","与",{lv:"1100",rv:"1101"},void 0,!0),e("or","或",{lv:"1100",rv:"1101"},void 0,!0),e("xor","异或",{lv:"1100",rv:"1101"},void 0,!0),e("not","非","1100",void 0,!0)),calc:_},Trigonometry:{name:"三角函数",items:r(e("sin","正弦，对边比斜边",30,{min:0,max:90},!0),e("cos","余弦，邻边比斜边",60,{min:0,max:90},!0),e("tan","正切，对边比邻边",45,{min:0,max:90},!0),e("asin","反正弦，正弦值对应的角度",.5,{min:-1,max:1},!0),e("acos","反余弦，余弦值对应的角度",.5,{min:-1,max:1},!0),e("atan","反正切，正切值对应的角度",1,{min:-1,max:1},!0)),calc:_},Function:{name:"函数",items:r(e("sqrt","平方根",4,void 0,!0),e("abs","绝对值",-2,void 0,!0),e("round","四舍五入",3.6,void 0,!0),e("exp","指数",2,void 0,!0),e("ln","对数",10,void 0,!0),e("fix","下取整",3.6,void 0,!0),e("fup","上取整",3.6,void 0,!0)),calc:_},B2D:{name:"进制转换",items:r(e("b2d","二进制转十进制","101010",void 0,!0),e("d2b","十进制转二进制","10",void 0,!0)),calc:_}};return(p,m)=>(o(),s(h,null,g(b,(n,v)=>M(G,{key:v,config:n},null,8,["config"])),64))}},K=u("h1",{id:"macro",tabindex:"-1"},[F("Macro "),u("a",{class:"header-anchor",href:"#macro","aria-label":'Permalink to "Macro"'},"​")],-1),Q=u("p",null,"This is a macro component.",-1),ee=JSON.parse('{"title":"Macro","description":"","frontmatter":{},"headers":[],"relativePath":"pages/lathe/macro.md","filePath":"pages/lathe/macro.md"}'),X={name:"pages/lathe/macro.md"},te=Object.assign(X,{setup(f){return(e,r)=>(o(),s("div",{"data-pagefind-body":!0},[K,Q,M(H)]))}});export{ee as __pageData,te as default};
